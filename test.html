<!DOCTYPE html>
<html>
<head>
  <title>Mars lander map designer</title>
  <style>
    canvas {
      border: 1px solid black;
    }
  </style>
</head>
<body oncontextmenu="return false;">

  <br>
  <br>
  • Right mouse click to add starship<br>
  • Left mouse click to add points, make sure to create only one green landings line<br>
  • Refresh page to reset<br>
  <br>
  
  <canvas id="myCanvas" width="700" height="300"></canvas>

  <script>
    const canvas = document.getElementById('myCanvas');
    const context = canvas.getContext('2d');
    let lastX, lastY;
    let points = [];

    // Draw rectangle
    context.beginPath();
    context.rect(0, 0, 700, 300);
    context.stroke();

    // Draw red point on mouse click
    canvas.addEventListener('mousedown', function(event) {
      const rect = canvas.getBoundingClientRect();
      let x = event.clientX - rect.left;
      let y = event.clientY - rect.top;

      context.beginPath();
      context.arc(x, y, 5, 0, Math.PI * 2);
      context.fillStyle = 'red';
      context.fill();

      if (lastX && lastY) {
        if (Math.abs(y - lastY) <= 5) {
          y = lastY;
        }

        context.beginPath();
        context.moveTo(lastX, lastY);
        context.lineTo(x, y);

        if (Math.abs(y - lastY) <= 5) {
          context.strokeStyle = 'green';
        } else {
          context.strokeStyle = 'red';
        }

        context.lineWidth = 6;
        context.stroke();
      }

      lastX = x;
      lastY = y;

      points.push([x*10,y*10]);
      document.getElementById("points").value = JSON.stringify(points);
    });
  </script>

  <br>
  <br>  
  Points coordinates<br>  
  <textarea id="points" rows="10" cols="30"></textarea><br>
  <button onclick="copyToClipboard()">Copy to Clipboard</button>

  <script>
    // Copy to clipboard
    function copyToClipboard() {
      const copyText = document.getElementById("points");
      copyText.select();
      copyText.setSelectionRange(0, 99999);
      document.execCommand("copy");
      //alert("Copied to clipboard: " + copyText.value);
    }
  </script>

</body>
</html>
